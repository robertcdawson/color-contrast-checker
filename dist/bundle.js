(()=>{"use strict";function t(t,e,o){const n=[t,e,o].map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return.2126*n[0]+.7152*n[1]+.0722*n[2]}function e(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}const o=[],n=document.getElementById("result"),r=document.getElementById("color1"),s=document.getElementById("color2"),l=document.getElementById("eyedropperButton"),c=document.createElement("div");c.classList.add("result-bar-parent");const a=document.createElement("div");a.classList.add("result-bar"),c.appendChild(a),n.appendChild(c),l.addEventListener("click",(async c=>{if(!window.EyeDropper)return void(n.textContent="Your browser does not support the EyeDropper API");if("Clear Colors"===l.textContent){o.length=0,r.removeAttribute("style"),s.removeAttribute("style"),l.textContent="Select Color 1",a.style.width="0%",a.style.backgroundColor="#ffffff";const t=n.querySelector(".result-description");return void(t&&n.removeChild(t))}const i=new EyeDropper;0===o.length?(s.classList.remove("colorHighlight"),r.classList.add("colorHighlight")):(r.classList.remove("colorHighlight"),s.classList.add("colorHighlight")),i.open().then((c=>{if(o.length<=1?(o.push(c.sRGBHex),1===o.length?r.style.background="transparent":s.style.background="transparent"):(o.shift(),o.push(c.sRGBHex)),r.style.backgroundColor=o[0],s.style.backgroundColor=o[1],1===o.length?l.textContent="Select Color 2":2===o.length&&(l.textContent="Clear Colors"),2===o.length){const r=function(e,o){const n=t(e[0],e[1],e[2]),r=t(o[0],o[1],o[2]);return((Math.max(n,r)+.05)/(Math.min(n,r)+.05)).toFixed(2)}(e(o[0]),e(o[1])),s=function(t){let e="";switch(!0){case t>=7:e="great";break;case t>=4.5&&t<7:e="good";break;case t>=3&&t<4.5:e="okay";break;case t<3:e="poor"}return e}(r),l=1===r?0:Math.round(r/21*100);a.style.width=`${l}%`,a.style.backgroundColor="great"===s?"#00ff00":"good"===s?"#ffff00":"okay"===s?"#ffa500":"#ff0000";const c=`<p class="result-description">${o[0]} and ${o[1]} have a contrast ratio of ${r}, which is <strong>${s}</strong>.</p>`,i=n.querySelector(".result-description");i&&n.removeChild(i),n.insertAdjacentHTML("beforeend",c)}})).catch((t=>{n.textContent=t}))})),document.getElementById("instructionsHideShow").addEventListener("click",(t=>{t.preventDefault();const e=document.getElementById("instructionsArrow"),o=document.getElementById("instructionsList");e.classList.contains("down")?(e.classList.remove("down"),e.classList.add("right")):(e.classList.remove("right"),e.classList.add("down")),o.classList.toggle("visible")}))})();